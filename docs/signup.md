# 注册页面与流程

总共三步：

1. 验证手机
2. 设置密码
3. 注册成功

## 第一步-验证手机

Form五个部分：

1. 手机号（区号+手机号）
2. 短信验证码（OTP+发送按钮）
3. 同意《服务协议》和《隐私政策》
4. 按钮“下一步，设置密码”
5. “企业客户注册”超链接

如果：

- 没有填写手机号，点击“发送验证码”按钮，在手机号字段下方提示：“请输入手机号”
- 填写错误格式的手机号(个数错误，使用其他符号等等)，点击发送验证码按钮，在手机号字段下方提示“手机号格式不正确，请重新输入”
- 手机号格式正确后，点击“发送验证码”按钮，在短信验证码字段下方提示“验证码已发送至您的手机，请注意查收!”。并且“发送验证码”按钮变成60s倒计时，倒计时结束变成“重发验证码”。在倒计时结束前，不可以重新点击。刷新页面会直接reset这个倒计时，恢复到“发送验证码”。
- 验证码输入框限制输入最多6位，可以支持除数字以外的字符（这个是携程的网站如此设定，我认为有待商榷，可以在前端限制只能输入0-9的数字）。
- 对于验证码还观察到：输入手机号A，获取验证码，但填写错误验证码，会在验证码输入框下方提示：“验证码不正确(20010)”。但是如果输入手机号A，获取验证码，然后修改手机号为B，并且输入A对应的验证码，会提示“验证码错误，请重新输入或重新发送(20011)”。
- 字段正确后，点击“下一步，设置密码”按钮，向后端校验验证码，正确的话会跳转到设置密码页面。

其他功能：

- 点击发送验证码/重发验证码都应该弹出reCAPTCHA验证或者cloudflare turnstile等等，防止机器人发送验证码
- 似乎没有观察到验证码过期的特殊提示，仍然显示“验证码不正确(20010)”

## 第二步-设置密码

界面内容：

- “注册手机号”：右侧显示"区号-手机号（`*`隐藏中间4位数字）"，例如：`86-139****2484`。这个只是纯提示文本，用户不能修改。
- 密码，密码输入框（默认文本：8-20位字母、数字和符号），眼睛标志（切换是否用`·`隐藏密码文本，默认隐藏，显示眼睛标志+一个斜杠，点击后切换成眼睛标志，表示当前没有隐藏），右侧显示密码强度（三个方框，分别在方框中间显示弱中强文本，橙色背景，白色文字）
- “确认密码”，以及输入密码文本框，和上面的密码输入框基本类似，但是默认文本“再次输入密码”，不用显示密码强度框
- “完成”按钮。
- “注册遇到问题？”超链接
- “<返回上一步”按钮

操作流程：

- 密码和重新输入密码都正确，点击“完成”按钮，在确认密码输入框下方提示“手机号已注册账号，请前往登录(40002)”
- 输入的密码符合要求，但是重新输入的密码不相同，在确认密码输入框下方提示“您两次输入的密码不一致”
- 输入的密码
- 输入密码不符合要求：我这里暂时发现两种情况，但是不确定为什么会有这样的区别：
  - 密码输入`12345678`，直接在密码输入框下方提示“密码过于简单，有被盗风险”，和后面的重新输入密码框没关系（哪怕重新输入的密码符合密码要求，也会在重新输入密码框下方提示“您两次输入的密码不一致”）
  - 密码输入`11451498`，密码输入框下方无提示。假如重新输入密码框也输入`11451498`，则会在重新输入密码框下方提示“密码过于简单，请重新输入(40010)”。假如重新输入密码框不匹配，提示“您两次输入的密码不一致”。
  - 密码输入`123456789012345678901`，会在密码输入框下方提示“密码需为8-20位字母、数字和符号的组合”

## 第三步-注册成功

没有尚未注册过的手机号，暂时无法看到这个页面。已经注册过的手机号会在第二步被提示“该手机号已注册，请直接登录”。
